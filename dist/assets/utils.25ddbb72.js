const m=()=>{const n="https://webapi.amap.com/maps?v=2.0&key=ce43a1e5df3f8b63809288fd8eba34ad&callback=onAMapCallback";return new Promise((e,t)=>{if(typeof AMap!="undefined")return e(AMap),!0;window.onAMapCallback=()=>{e(AMap)};const r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",n),r.onerror=t,document.body.appendChild(r)})},l=()=>new Promise((a,n)=>{m().then(()=>{if(typeof AMapUI!="undefined")return a(""),!0;const e="https://webapi.amap.com/ui/1.1/main.js?v=1.1.1",t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src",e),t.onerror=n,t.onload=r=>{a("")},document.body.appendChild(t)}).catch(e=>{n(e)})}),A=(a,n)=>new Promise((e,t)=>{l().then(()=>{const r=(s,i)=>{AMapUI.loadUI(["geo/DistrictExplorer"],d=>{new d().loadAreaNode(s,(c,u)=>{if(c){t(c);return}let o=u.getSubFeatures();if(o.length===0){const p=u._data.geoData.parent.properties.acroutes;r(p[p.length-1],s);return}i&&(o=o.filter(p=>p.properties.adcode===i)),e({features:o})})})};r(a,n)})});export{A as g};
